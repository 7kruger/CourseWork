@using CourseWork.Models.Entities
@{
    ViewData["Title"] = "EditItem";
}
@model CourseWork.Models.ViewModels.EditItemViewModel


<h1 class="text-center">Редактирование айтема</h1>
<div class="container text-center">
	<form asp-action="EditItem" asp-controller="Profile">
		<div class="container text-center custom-group-form">
			<div class="validation" asp-validation-summary="ModelOnly"></div>

			<div class="form-group">
				<label asp-for="Name">Название коллекции</label><br />
				<input class="form-control" type="text" asp-for="Name" />
				<span asp-validation-for="Name" />
			</div>

			<div class="form-group">
				<label asp-for="Content">Описание коллекции</label><br />
				<textarea class="form-control" asp-for="Content"></textarea>
				<span asp-validation-for="Content" />
			</div>
		</div>

		<div class="container text-center">
			<h3>Добавить в коллекцию</h3>
			@if (ViewData["Collections"] != null)
			{
				<div style="overflow: auto;">
					<table class="table table-sm">
						<thead>
							<tr>
								<th scope="col">Выбрать</th>
								<th scope="col">Название коллекции</th>
								<th scope="col">Описание</th>
								<th scope="col">Тема</th>
								<th scope="col">Дата создания</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var collection in ViewData["Collections"] as List<Collection>)
							{
								<tr>
									<td><input type="radio" name="collectionId" value="@collection.Id"
										@(collection.Id == Model.CollectionId ? "checked=\"checked\"" : "")/></td>
									<td><p>@collection.Name</p></td>
									<td><p>@collection.Description.Substring(0, Math.Min(collection.Description.Length, 50))</p></td>
									<td><p>@collection.Theme</p></td>
									<td><p>@collection.Date</p></td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			}
			else
			{
				<p>Нет доступных коллекций</p>
			}
		</div>

		<div class="d-flex justify-content-center">
			<button class="btn btn-outline-primary">Изменить</button>
			<a class="btn btn-outline-danger ml-3" href="/Profile/DeleteItem/@Model.Id">Удалить</a>
		</div>
		
	</form>
	
</div>

