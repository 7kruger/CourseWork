@using CourseWork.Domain.Entities
@model List<Collection>

@{
	ViewData["Title"] = "Search";
}

<div>
	<form class="text-center d-flex" role="search" asp-action="Search" asp-controller="Home">
		<input class="form-control me-2 m-2" type="search" placeholder="Поиск" aria-label="Search" name="value">
		<button class="btn btn-outline-primary m-2" type="submit">Search</button>
	</form>
</div>

<h1 class="text-center text-dark">Результат поиска</h1>
@if (Model.Count == 0)
{
	<h5 class="text-center text-dark">Ничего не найдено</h5>
}
else
{
	<div class="row">
		@foreach (var col in Model)
		{
			<div class="col-xs-12 col-sm-6 col-md-6 col-lg-4">
				<div class="card m-2">
					<div class="parent">
						<img class="lazy image"
						src="data:image/gif;base64,R0lGODlhBwAFAIAAAP///wAAACH5BAEAAAEALAAAAAAHAAUAAAIFjI+puwUAOw=="
						data-src="@col.ImgRef"
						onError="this.src='/images/imgnotfound.jpg'"
						alt="Image">
					</div>
					<div class="card-body">
						<h5 class="card-title">@col.Name</h5>
						<p class="card-text">@col.Description.Substring(0, Math.Min(col.Description.Length, 50))</p>
						<a href="/Collection/GetCollection/@col.Id" class="btn btn-primary stretched-link">Посмотреть коллекцию</a>
					</div>
				</div>
			</div>
		}
	</div>
}

@section Scripts {
	<script>
		var lazyLoadInstance = new LazyLoad({
			elements_selector: ".lazy"
		});
	</script>
}